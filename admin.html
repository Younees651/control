<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title data-fr="Panneau d'administration" data-ar="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">Panneau d'administration</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  /* Ã‰cran de connexion moderne */
  #loginBox{
    max-width:450px;
    margin:100px auto;
    background: rgba(255, 255, 255, 0.95);
    padding: 40px;
    border-radius: 25px;
    text-align:center;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
    animation: fadeIn 0.5s ease;
  }
  
  #adminPanel{display:none;}
  
  input, textarea, select {
    width:100%;
    padding:15px;
    margin-top:15px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 16px;
    transition: all 0.3s ease;
    background: white;
  }
  
  input:focus, textarea:focus, select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    outline: none;
  }
  
  .bt{
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 15px 40px;
    margin-top: 20px;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    font-size: 18px;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 10px;
  }
  
  .bt:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
  }
  
  .warning-box {
    background: linear-gradient(45deg, #ff7e5f, #feb47b);
    color: white;
    padding: 20px;
    border-radius: 15px;
    margin: 20px 0;
    font-size: 14px;
    line-height: 1.6;
  }
  
  .admin-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    margin-bottom: 30px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }
  
  .admin-nav {
    display: flex;
    gap: 15px;
  }
  
  .admin-nav a {
    padding: 10px 20px;
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }
  
  .admin-nav a:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }
  
  .admin-main {
    background: rgba(255, 255, 255, 0.95);
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }
  
  /* IcÃ´nes dans les options */
  option[value]::before {
    content: "ğŸ“ ";
  }
  
  option[value="home"]::before {
    content: "ğŸ  ";
  }
  
  option[value*="first"]::before {
    content: "ğŸ“ ";
  }
  
  option[value*="second"]::before {
    content: "ğŸ“š ";
  }
  
  option[value*="third"]::before {
    content: "ğŸŒŸ ";
  }
  
  option[value*="bac"]::before {
    content: "ğŸ† ";
  }
</style>
</head>

<body>
<button class="lang-switcher" onclick="switchLanguage()">
  <i class="fas fa-language"></i> <span class="lang-text">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
</button>

<!-- ğŸ” Ã‰cran de connexion -->
<div id="loginBox" >
  <div class="welcome-admin">
    <i class="fas fa-lock fa-3x" style="color: #667eea; margin-bottom: 20px;"></i>
    <h1 data-fr="Connexion Admin" data-ar="Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†">Connexion Admin</h1>
  </div>
  
  <div class="warning-box">
    <i class="fas fa-exclamation-triangle"></i>
    <strong data-fr="Avertissement*" data-ar="ØªÙ†Ø¨ÙŠÙ‡*">Avertissement*</strong>
    <p data-fr="Cette page est rÃ©servÃ©e Ã  la gestion du contenu de l'Ã©tablissement. Seuls les administrateurs autorisÃ©s peuvent y accÃ©der ou la modifier. Toute utilisation non autorisÃ©e expose son auteur Ã  des poursuites. Il s'agit d'un panneau de contrÃ´le privÃ© de l'Ã©tablissement. L'accÃ¨s ou la modification est interdit aux non-administrateurs. Toutes les opÃ©rations sont enregistrÃ©es." data-ar="Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù…Ø®ØµÙ‘ØµØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹Ù‡Ø¯ØŒ ÙˆÙ„Ø§ ÙŠÙØ³Ù…Ø­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¥Ù„Ø§ Ù„Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ù…Ø®ÙˆÙ‘Ù„. Ø£ÙŠ Ø§Ø³ØªØ¹Ù…Ø§Ù„ ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ù‡ ÙŠÙØ¹Ø±Ù‘Ø¶ ØµØ§Ø­Ø¨Ù‡ Ù„Ù„Ù…Ø³Ø§Ø¡Ù„Ø©. Ù‡Ø°Ù‡ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¹Ù‡Ø¯. ÙŠÙÙ…Ù†Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£Ùˆ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„ØºÙŠØ± Ø§Ù„Ø£Ø¯Ù…Ù†. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡Ø§">
      Cette page est rÃ©servÃ©e Ã  la gestion du contenu de l'Ã©tablissement. Seuls les administrateurs autorisÃ©s peuvent y accÃ©der ou la modifier.
    </p>
  </div>
  
  <input type="password" id="adminCode" data-fr-placeholder="Entrez le code d'accÃ¨s" data-ar-placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„" placeholder="Entrez le code d'accÃ¨s">
  <br><br>
  
  <button onclick="checkCode()" class="bt">
    <i class="fas fa-sign-in-alt"></i>
    <span data-fr="Connexion" data-ar="Ø¯Ø®ÙˆÙ„">Connexion</span>
  </button>
  
  <p id="error" style="color: #ff7e5f; margin-top: 15px; font-weight: 600;"></p>
</div>

<!-- âœ… Panneau d'administration -->
<div id="adminPanel">
  <div class="admin-header">
    <h1 data-fr="Panneau de ContrÃ´le Administratif" data-ar="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©">
      <i class="fas fa-cogs"></i> <span>Panneau de ContrÃ´le Administratif</span>
    </h1>
    
    <div class="admin-nav">
      <a href="index.html" data-fr="Retour au site" data-ar="Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙˆÙ‚Ø¹">
        <i class="fas fa-home"></i> <span>Retour au site</span>
      </a>
      <a href="#" onclick="logout()" data-fr="DÃ©connexion" data-ar="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
        <i class="fas fa-sign-out-alt"></i> <span>DÃ©connexion</span>
      </a>
    </div>
  </div>

  <div class="admin-main">
    <div class="form-group">
      <h3 data-fr="Ajouter une nouvelle actualitÃ©" data-ar="Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯">
        <i class="fas fa-plus-circle"></i> <span>Ajouter une nouvelle actualitÃ©</span>
      </h3>
      
      <textarea id="newsText" rows="4" data-fr-placeholder="Ã‰crivez votre actualitÃ© ici..." data-ar-placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø®Ø¨Ø± Ù‡Ù†Ø§..." placeholder="Ã‰crivez votre actualitÃ© ici..."></textarea>
      <br><br>

      <label data-fr="Choisissez la section:" data-ar="Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…:">
        <i class="fas fa-folder-open"></i> <span>Choisissez la section:</span>
      </label><br>
      <select id="newsSection">
        <option value="home" data-fr="Accueil" data-ar="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">ğŸ  Accueil</option>
        <option value="first1" data-fr="PremiÃ¨re 1" data-ar="Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 1">ğŸ“ PremiÃ¨re 1</option>
        <option value="first2" data-fr="PremiÃ¨re 2" data-ar="Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 2">ğŸ“ PremiÃ¨re 2</option>
        <option value="first3" data-fr="PremiÃ¨re 3" data-ar="Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 3">ğŸ“ PremiÃ¨re 3</option>
        <option value="first4" data-fr="PremiÃ¨re 4" data-ar="Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 4">ğŸ“ PremiÃ¨re 4</option>
        <option value="second1" data-fr="DeuxiÃ¨me Sciences" data-ar="Ø«Ø§Ù†ÙŠØ© Ø¹Ù„ÙˆÙ…">ğŸ“š DeuxiÃ¨me Sciences</option>
        <option value="second2" data-fr="DeuxiÃ¨me Ã‰co 1" data-ar="Ø«Ø§Ù†ÙŠØ© Ø§Ù‚ØªØµØ§Ø¯1">ğŸ“š DeuxiÃ¨me Ã‰co 1</option>
        <option value="second3" data-fr="DeuxiÃ¨me Ã‰co 2" data-ar="Ø«Ø§Ù†ÙŠØ© Ø§Ù‚ØªØµØ§Ø¯2">ğŸ“š DeuxiÃ¨me Ã‰co 2</option>
        <option value="second4" data-fr="DeuxiÃ¨me Info" data-ar="Ø«Ø§Ù†ÙŠØ© INFORMATIQUE">ğŸ“š DeuxiÃ¨me Info</option>
        <option value="third1" data-fr="TroisiÃ¨me Info" data-ar="Ø«Ø§Ù„Ø«Ø© INFORMATIQUE">ğŸŒŸ TroisiÃ¨me Info</option>
        <option value="third2" data-fr="TroisiÃ¨me Ã‰co" data-ar="Ø«Ø§Ù„Ø«Ø© Ø§Ù‚ØªØµØ§Ø¯">ğŸŒŸ TroisiÃ¨me Ã‰co</option>
        <option value="bac1" data-fr="Bac Ã‰co 1" data-ar="Ø¨Ø§Ùƒ Ø§Ù‚ØªØµØ§Ø¯1">ğŸ† Bac Ã‰co 1</option>
        <option value="bac2" data-fr="Bac Ã‰co 2" data-ar="Ø¨Ø§Ùƒ Ø§Ù‚ØªØµØ§Ø¯2">ğŸ† Bac Ã‰co 2</option>
        <option value="bac3" data-fr="Bac Sciences" data-ar="Ø¨Ø§Ùƒ Ø¹Ù„ÙˆÙ…">ğŸ† Bac Sciences</option>
      </select>
      <br><br>

      <button onclick="addNews()" class="bt">
        <i class="fas fa-paper-plane"></i>
        <span data-fr="Publier l'actualitÃ©" data-ar="Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø±">Publier l'actualitÃ©</span>
      </button>
    </div>

    <hr style="margin: 40px 0; border: 1px solid #e0e0e0;">

    <div class="current-news">
      <h3 data-fr="ActualitÃ©s en ligne" data-ar="Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©">
        <i class="fas fa-list-alt"></i> <span>ActualitÃ©s en ligne</span>
      </h3>
      <div id="adminNews"></div>
    </div>
  </div>
</div>

<script>
let currentLang = 'fr'; // Langue par dÃ©faut
const ADMIN_CODE = "19202009"; // ğŸ” Code d'accÃ¨s

// Changer de langue
function switchLanguage() {
  const langBtn = document.querySelector('.lang-switcher');
  const langText = document.querySelector('.lang-text');
  
  if (currentLang === 'fr') {
    // Passer Ã  l'arabe
    document.documentElement.lang = 'ar';
    document.documentElement.dir = 'rtl';
    document.title = 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
    langText.textContent = 'FranÃ§ais';
    currentLang = 'ar';
  } else {
    // Passer au franÃ§ais
    document.documentElement.lang = 'fr';
    document.documentElement.dir = 'ltr';
    document.title = 'Panneau d\'administration';
    langText.textContent = 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
    currentLang = 'fr';
  }
  
  // Mettre Ã  jour tous les textes
  updateTexts();
}

// Mettre Ã  jour tous les textes
function updateTexts() {
  // Mettre Ã  jour le texte des Ã©lÃ©ments
  document.querySelectorAll('[data-fr]').forEach(el => {
    const span = el.querySelector('span');
    if (span) {
      span.textContent = currentLang === 'fr' ? el.getAttribute('data-fr') : el.getAttribute('data-ar');
    } else {
      el.textContent = currentLang === 'fr' ? el.getAttribute('data-fr') : el.getAttribute('data-ar');
    }
  });
  
  // Mettre Ã  jour les placeholders
  document.querySelectorAll('[data-fr-placeholder]').forEach(el => {
    el.placeholder = currentLang === 'fr' ? el.getAttribute('data-fr-placeholder') : el.getAttribute('data-ar-placeholder');
  });
  
  // Mettre Ã  jour les options du select
  document.querySelectorAll('#newsSection option').forEach(option => {
    if (option.getAttribute('data-fr')) {
      option.textContent = currentLang === 'fr' ? option.getAttribute('data-fr') : option.getAttribute('data-ar');
    }
  });
}

// VÃ©rifier le code
function checkCode(){
  let input = document.getElementById("adminCode").value;
  if(input === ADMIN_CODE){
    localStorage.setItem("adminLogged","yes");
    showAdmin();
  } else {
    const errorMsg = currentLang === 'fr' 
      ? "âŒ Code incorrect, veuillez quitter immÃ©diatement" 
      : "âŒ Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ ,Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙÙˆØ±Ø§";
    document.getElementById("error").innerText = errorMsg;
  }
}

// Afficher le panneau d'administration
function showAdmin(){
  document.getElementById("loginBox").style.display="none";
  document.getElementById("adminPanel").style.display="block";
  loadAdminNews();
}

// DÃ©connexion
function logout(){
  localStorage.removeItem("adminLogged");
  location.reload();
}

// Au chargement de la page
if(localStorage.getItem("adminLogged")==="yes"){
  showAdmin();
}

// ===== SystÃ¨me d'actualitÃ©s =====
function getNews(){
  return JSON.parse(localStorage.getItem("news")) || [];
}

function saveNews(news){
  localStorage.setItem("news", JSON.stringify(news));
}

function addNews(){
  let text = newsText.value;
  let section = newsSection.value;
  
  const alertMsg = currentLang === 'fr' 
    ? "Veuillez Ã©crire l'actualitÃ© avant de publier" 
    : "Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø®Ø¨Ø± Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±";
    
  if(text==="") return alert(alertMsg);

  let d = new Date();
  let date = d.toLocaleString(currentLang === 'fr' ? "fr-FR" : "ar-TN");

  let news = getNews();
  news.push({text, date, section});
  saveNews(news);
  newsText.value="";
  loadAdminNews();
}

function deleteNews(i){
  const confirmMsg = currentLang === 'fr' 
    ? "Voulez-vous vraiment supprimer cette actualitÃ© ?" 
    : "Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ù‚Ø§Ù‹ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø®Ø¨Ø±ØŸ";
    
  if(confirm(confirmMsg)) {
    let news = getNews();
    news.splice(i,1);
    saveNews(news);
    loadAdminNews();
  }
}

function loadAdminNews(){
  adminNews.innerHTML="";
  const news = getNews();
  
  if (news.length === 0) {
    const noNewsMsg = currentLang === 'fr' 
      ? "Aucune actualitÃ© pour le moment" 
      : "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹";
    adminNews.innerHTML = `<div class="news-item">${noNewsMsg}</div>`;
    return;
  }
  
  news.forEach((n,i)=>{
    const deleteText = currentLang === 'fr' ? "ğŸ—‘ï¸ Supprimer" : "ğŸ—‘ï¸ Ø­Ø°Ù";
    const sectionText = currentLang === 'fr' ? "Section" : "Ø§Ù„Ù‚Ø³Ù…";
    
    adminNews.innerHTML += `
      <div class="news-item">
        <b>${n.text}</b><br>
        <small><i class="far fa-calendar"></i> ${n.date}</small><br>
        <small><i class="fas fa-tag"></i> ${sectionText}: ${getSectionName(n.section)}</small><br>
        <button onclick="deleteNews(${i})">${deleteText}</button>
      </div>
    `;
  });
}

function getSectionName(sectionKey) {
  const sections = {
    'fr': {
      'home': 'Accueil',
      'first1': 'PremiÃ¨re 1',
      'first2': 'PremiÃ¨re 2',
      'first3': 'PremiÃ¨re 3',
      'first4': 'PremiÃ¨re 4',
      'second1': 'DeuxiÃ¨me Sciences',
      'second2': 'DeuxiÃ¨me Ã‰co 1',
      'second3': 'DeuxiÃ¨me Ã‰co 2',
      'second4': 'DeuxiÃ¨me Info',
      'third1': 'TroisiÃ¨me Info',
      'third2': 'TroisiÃ¨me Ã‰co',
      'bac1': 'Bac Ã‰co 1',
      'bac2': 'Bac Ã‰co 2',
      'bac3': 'Bac Sciences'
    },
    'ar': {
      'home': 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
      'first1': 'Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 1',
      'first2': 'Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 2',
      'first3': 'Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 3',
      'first4': 'Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ 4',
      'second1': 'Ø«Ø§Ù†ÙŠØ© Ø¹Ù„ÙˆÙ…',
      'second2': 'Ø«Ø§Ù†ÙŠØ© Ø§Ù‚ØªØµØ§Ø¯1',
      'second3': 'Ø«Ø§Ù†ÙŠØ© Ø§Ù‚ØªØµØ§Ø¯2',
      'second4': 'Ø«Ø§Ù†ÙŠØ© INFORMATIQUE',
      'third1': 'Ø«Ø§Ù„Ø«Ø© INFORMATIQUE',
      'third2': 'Ø«Ø§Ù„Ø«Ø© Ø§Ù‚ØªØµØ§Ø¯',
      'bac1': 'Ø¨Ø§Ùƒ Ø§Ù‚ØªØµØ§Ø¯1',
      'bac2': 'Ø¨Ø§Ùƒ Ø§Ù‚ØªØµØ§Ø¯2',
      'bac3': 'Ø¨Ø§Ùƒ Ø¹Ù„ÙˆÙ…'
    }
  };
  
  return sections[currentLang][sectionKey] || sectionKey;
}

// Initialiser les textes
updateTexts();
</script>

</body>
</html>